---
import Layout from "@/layouts/Layout.astro";
import HeroKeyBackground from "@/assets/hero-key-background.webp";
---

<Layout>
  <div id="logo-mask" class="fixed top-0 w-full h-screen">
    <section>
      <picture
        id="hero-key"
        class="h-screen scale-125 block overflow-hidden fixed"
      >
        <img
          id="hero-key-background"
          src={HeroKeyBackground.src}
          class="w-full h-full object-cover"
        />
      </picture>
    </section>
  </div>

  <div
    class="fixed flex flex-col items-center justify-between h-screen px-20 py-16 w-full"
  >
    <header class="flex justify-between w-full"></header>
    <footer id="hero-footer" class="absolute bottom-8 m-auto">
      <span
        class="absolute uppercase tracking-[6px] whitespace-nowrap text-center top-[49px] font-medium text-shadow-[0_0_2px_rgba(255,255,255,.5),0_0_8px_#000] left-1/2 -translate-x-1/2 text-lg"
      >
      </span>
    </footer>
  </div>

  <!-- <div
    id="logo-text-1"
    class="fixed w-full flex flex-col items-center justify-center top-[50%] opacity-0 pointer-events-none"
  >
    <p>¡Bienvenidos a nuestra boda!</p>
    <p>Nos alegra que estés aquí.</p>
  </div>
  <div
    id="logo-text-2"
    class="fixed w-full flex flex-col items-center justify-center top-[30%] opacity-0 pointer-events-none"
  >
    <p>La celebración será inolvidable</p>
    <p>Prepárate para un día especial.</p>
  </div>
  <div
    id="logo-text-3"
    class="fixed w-full flex flex-col items-center justify-center top-[30%] opacity-0 pointer-events-none"
  >
    <p>¡Gracias por acompañarnos!</p>
  </div> -->
</Layout>

<style>
  #logo-mask {
    background: white;
    mask-image: url("/logo-stack.webp");
    mask-position: 50% 25%;
    mask-repeat: no-repeat;
    mask-size: clamp(10000vh, 3500%, 0vh);
  }
  p {
    font-family: Georgia, serif;
    color: #fffaf5;
    font-size: 2rem;
    padding: 1rem;
  }
</style>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  const tl = gsap.timeline({
    ease: "power2.out",
    scrollTrigger: {
      scrub: 1,
    },
  });

  tl.to("#hero-key", { duration: 1, scale: 1 })
    .to("#hero-footer", { opacity: 0 }, "<")
    .to(
      "#logo-mask",
      {
        maskSize: "clamp(20vh, 25%, 30vh)",
      },
      0.15,
    )
    .to(
      "#hero-key",
      {
        opacity: 0,
        duration: 0.2,
      },
      0.4,
    );
  // .to(
  //   "#logo-text-1",
  //   {
  //     opacity: 1,
  //     pointerEvents: "auto",
  //     scale: 1,
  //     duration: 2,
  //     ease: "power2.out",
  //   },
  //   "+=0.1",
  // )
  // .to(
  //   "#logo-text-1",
  //   {
  //     opacity: 0,
  //     pointerEvents: "none",
  //     scale: 0.5,
  //     duration: 2,
  //     ease: "power2.in",
  //   },
  //   "+=10",
  // )
  // .to(
  //   "#logo-mask",
  //   {
  //     opacity: 0,
  //     duration: 2,
  //   },
  //   "<",
  // )
  // .to("#logo-text-2", {
  //   opacity: 1,
  //   pointerEvents: "auto",
  //   scale: 1,
  //   duration: 2,
  //   ease: "power2.out",
  // })
  // .to(
  //   "#logo-text-2",
  //   {
  //     opacity: 0,
  //     pointerEvents: "none",
  //     scale: 0.5,
  //     duration: 2,
  //     ease: "power2.in",
  //   },
  //   "+=10",
  // )
  // .to("#logo-text-3", {
  //   opacity: 1,
  //   pointerEvents: "auto",
  //   scale: 1,
  //   duration: 2,
  //   ease: "power2.out",
  // })
  // .fromTo(
  //   "#logo-text-3",
  //   { scale: 0.8 },
  //   { scale: 1, duration: 2, ease: "power2.out" },
  //   "<",
  // );
</script>
